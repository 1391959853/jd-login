version: "3"
services:
  jd_autologin:
    image: python:3.12.4
    container_name: jd_autologin
    restart: unless-stopped
    ports:
      - 12345:12345
    working_dir: /app
    environment:
      TZ: Asia/Shanghai
    command: >
      sh -c "apt -y update && apt -y install libnss3 libnspr4 libatk1.0-0
      libatk-bridge2.0-0 libcups2 libdrm2 libdbus-1-3 libxkbcommon0
      libxcomposite1 libxdamage1 libxfixes3 libxrandr2 libgbm1 libasound2
      libatspi2.0-0 libxshmfence1 && python -m pip install --upgrade pip && pip
      install pyppeteer Pillow asyncio aiohttp opencv-python-headless ddddocr
      quart  && wget
      https://raw.githubusercontent.com/zhao-zg/jd-login/main/api.py
      -O api.py  && wget
      https://raw.githubusercontent.com/zhao-zg/jd-login/main/login.py
      -O login.py && python api.py"
networks: {}
